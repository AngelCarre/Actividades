<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>u4e06_test</title>
    <style>
        fieldset {
            float: left;
            width: 17%;
            height: 300px;
        }

        legend {
            font-size: 25px;
        }

        .pregunta {
            font-size: 15px;
            height: 100px;
            color: black;
        }
        .respondido{
            color:black;
        }
        .sinresponder{
            color: red;
        }


        #enviar {
            clear: both;
            float: left;
            width: 100%;
            font-size: 2em;
        }
        form{
            float: left;
            width: 85%;
        }
        #respuestas{
            border: 1px solid black;
            float: right;
            width: 10%;
        }
        img{
            height: 20px;
            width: 20px;
        }
    </style>
</head>

<body>

    <script>
        window.onload = iniciar;

        function iniciar() {
            document.getElementById("enviar").addEventListener('click', validar, false);
        }

        function validar(){
            var arrayCorrectas = ["0","1","1","1","2","1","1","1","1","1"];

            var arrayRespuestas = [];
                
           
            for(var i= 1; i<=10; i++){
                for(var j =0; j<=2; j++){
                    var respondido = false;
                    if(document.getElementsByName(i)[j].checked==true){
                        respondido = true;
                        arrayRespuestas.push(j);
                    }
                    
                }
                if(respondido == false){
                        arrayRespuestas.push("5");
                        Array.from(document.querySelectorAll("legend")[i-1].className="sinresponder");
                    }else{
                        Array.from(document.querySelectorAll("legend")[i-1].className="respondido");
                    }
                
            }
            var imagenes = Array.from(document.querySelectorAll("img"));
            var correctas =0;
            for(var i= 0; i<10; i++){

                if(arrayCorrectas[i]==arrayRespuestas[i]){
                    imagenes[i].src = "verde.jpg";
                    correctas++;
                }else{
                    imagenes[i].src = "rojo.jpg";
                }

            }

            document.getElementById("correctas").textContent = correctas;



        }

    </script>
    <form action="#" method="post" id="miFormulario">
        <div id="preguntas">
          <fieldset>
            <legend>Pregunta 1</legend>
            <img id="img1">
            <p class="pregunta" id="1">¿Quién es la madre de Jon Snow?</p>
            <input type="radio" name="1" value="1" > Lyanna Stark
            <input type="radio" name="1" value="2"> Ashara Dayne
            <input type="radio" name="1" value="3"> Hodor<br>
        </fieldset>
        <fieldset>
                <img id="img2">
            <legend>Pregunta 2</legend>
            <p class="pregunta" id="2">Cuál es el lema de la casa Tyrell?</p>
            <input type="radio" name="2" value="1" > Crecer fuerte
            <input type="radio" name="2" value="2"> Viviendo deprisa
            <input type="radio" name="2" value="3"> Siempre arriba<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 3</legend>
            <img id="img3">
            <p class="pregunta" id="3">¿Qué persona ha destacado por su habilidad asesinando?</p>
            <input type="radio" name="3" value="1" > Daenerys
            <input type="radio" name="3" value="2"> Arya
            <input type="radio" name="3" value="3"> Cersei<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 4</legend>
            <img id="img4">
            <p class="pregunta" id="4">¿Qué significa Valar Morghulis?</p>
            <input type="radio" name="4" value="1" > Todos los hombres morirán
            <input type="radio" name="4" value="2"> Todos los hombres deben morir
            <input type="radio" name="4" value="3"> Hodor<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 5</legend>
            <img id="img5">
            <p class="pregunta" id="5">¿Cuántos hijos biológicos tiene Robert Baratheon?</p>
            <input type="radio" name="5" value="1" > 3
            <input type="radio" name="5" value="2"> 1
            <input type="radio" name="5" value="3"> 20<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 6</legend>
            <img id="img6">
            <p class="pregunta" id="6">¿Cómo se llaman los dragones de Daennerys?</p>
            <input type="radio" name="6" value="1" > Drogon, Rhaezal y Viseryon
            <input type="radio" name="6" value="2"> Drogon, Rhaegal y Viseryon
            <input type="radio" name="6" value="3"> Hodor, Hodor y Hodor<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 7</legend>
            <img id="img7">
            <p class="pregunta" id="7">¿Cuál es el lema de la casa arryn es?</p>
            <input type="radio" name="7" value="1" > Tan alto y tan guapo
            <input type="radio" name="7" value="2"> Tan elevado como el sol
            <input type="radio" name="7" value="3"> Tan alto como el honor<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 8</legend>
            <img id="img8">
            <p class="pregunta" id="8">¿Quién venció el torneo al honor de Ned Stark?</p>
            <input type="radio" name="8" value="1" > Jaime Lannister
            <input type="radio" name="8" value="2"> El perro
            <input type="radio" name="8" value="3"> Hodor<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 9</legend>
            <img id="img9">
            <p class="pregunta" id="9">¿Quién es el asesino de Jon Arryn es?</p>
            <input type="radio" name="9" value="1" > Catelyn Tully
            <input type="radio" name="9" value="2"> Lysa Tully
            <input type="radio" name="9" value="3"> Petyr Baelish<br>
        </fieldset>
        <fieldset>
            <legend>Pregunta 10</legend>
            <img id="img10">
            <p class="pregunta" id="10">¿Cómo se llama realmente Jon Snow?</p>
            <input type="radio" name="10" value="1" > Jon Stark
            <input type="radio" name="10" value="2"> Aegon Targaryen
            <input type="radio" name="10" value="3"> Hodor<br>
        </fieldset>  
        </div>
        
        


        <input type="button" name="enviar" value="Enviar" id="enviar" />
    </form>
    <div id="respuestas">
        <p>Respuestas correctas: </p><p id="correctas"></p>
    </div>
</body>

</html>